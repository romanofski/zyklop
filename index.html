<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Zyklop : Rsync wrapper making syncing easy" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Zyklop</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/romanofski/zyklop">View on GitHub</a>

          <h1 id="project_title">Zyklop</h1>
          <h2 id="project_tagline">Rsync wrapper making syncing easy</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/romanofski/zyklop/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/romanofski/zyklop/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1></h1>

<h1>
<a name="-zyklop-" class="anchor" href="#-zyklop-"><span class="octicon octicon-link"></span></a> Zyklop â—Ž</h1>

<p>This program is a wrapper around rsync. It will help you:</p>

<pre><code>* if you need to sync files from remote server frequently
* No need to keep the location of the file in your mind. It finds
  them for you.
</code></pre>

<h1>
<a name="requirements" class="anchor" href="#requirements"><span class="octicon octicon-link"></span></a>Requirements</h1>

<pre><code>* Python &gt;= 2.6 (Python &gt;= 2.7 for tests)
* rsync installed
* **locate** installed with up-to-date database on the remote system
</code></pre>

<h1>
<a name="first-steps" class="anchor" href="#first-steps"><span class="octicon octicon-link"></span></a>First Steps</h1>

<p>If you are new to ssh, setup an ssh configuration first. If you are
dealing with a lot of servers, giving them an alias makes it easier to
remember.</p>

<pre><code>#. Create an ssh configuration in your SSH home, e.g.::

    vim ~/.ssh/config

   You can use the following example as a starter::

    Host spameggs
    Hostname  12.112.11.122
    Compression yes
    CompressionLevel 9
    User guido

   but be sure to check the `documentation
   &lt;https://duckduckgo.com/?q=ssh+config+documentation&amp;t=canonical&gt;`_
   or the man page (5) for `ssh_config`

#. Make the config only readable for the owner::

    chmod 600 ~/.ssh/config

#. Test if you can login to your configured host using only your
   alias::

    ssh spameggs

#. Test if locate works on the remote server by searching for a test
   directory (here called `findmesomething`)::

    locate findmesomething

#. Now you can copy/sync `findmesomething` with zyklop::

    zyklop spameggs:findmesomething .
</code></pre>

<h1>
<a name="examples" class="anchor" href="#examples"><span class="octicon octicon-link"></span></a>Examples</h1>

<pre><code>#. Syncing a ZODB from remote server configured in ``~/.ssh/config``
   as spameggs. We choose not the first database, but the second::

    $ zyklop spameggs:Data.fs .
    Use /opt/otherbuildout/var/filestorage/Data.fs? Y(es)/N(o)/A(bort) n
    Use /opt/buildout/var/filestorage/Data.fs? Y(es)/N(o)/A(bort) y

#. Syncing a directory providing a path segment::

    $ zyklop spameggs:buildout/var/filestorage$ .

#. Syncing a directory which ends with `blobstorage``, excluding any
   other `blobstorage` directories with postfixes in the name (e.g.
   `blobstorage.old`)::

    $ zyklop spameggs:blobstorage$ .

#. Use an **absolute path** if you know exactly where to copy from::

    $ zyklop spameggs:/tmp/Data.fs .

#. Syncing a directory which needs higher privileges. We use the
   ``-s`` argument::

    $ zyklop -s spameggs:blobstorage$ .

#. **Dry run** prints out all found remote paths and just exits::

    $ zyklop -d spameggs:blobstorage$ .
    /opt/otherbuildout/var/blobstorage
    /opt/otherbuildout/var/blobstorage.old
    /opt/buildout/var/blobstorag

#. Sync the first result zyklop finds automatically **without
   prompting**::

    $ zyklop -y spameggs:blobstorage$ .
</code></pre>

<h2>
<a name="known-problems" class="anchor" href="#known-problems"><span class="octicon octicon-link"></span></a>Known Problems</h2>

<p>Zyklop just hangs
    This can be caused by paramiko and a not sufficient SSH setup. Make
    sure you can login without problems by simply issuing a::</p>

<pre><code>    ssh myhost

If that does not solve your problem, try to provide an absolute path
from the source. Sometimes users don't have many privileges on the
remote server and the paramiko just waits for the output of a remote
command::

    zyklop myhost:/path/to/file .
</code></pre>

<h1>
<a name="motivation" class="anchor" href="#motivation"><span class="octicon octicon-link"></span></a>Motivation</h1>

<p>I'm dealing with Zope servers most of my time. Some of them have a
<em>huge</em> Data.fs - an object oriented database. I do have in 99% of the
cases an older version of the clients database on my PC. Copying the
whole database will take me ages. Using rsync and simply downloading a
binary patch makes updating my local database a quick thing.</p>

<p>To summarize, with zyklop I'd like to address two things:</p>

<pre><code>1. Downloading large ZODBs takes a long time and
   bandwidth. I simply don't want to wait that long and download that
   much.
2. Most of the time I can not remember the exact path where the item
   to copy is on the remote server.
</code></pre>

<h2>
<a name="non-goals" class="anchor" href="#non-goals"><span class="octicon octicon-link"></span></a>Non Goals</h2>

<p>Zyklop is not:</p>

<pre><code>* a Backup Solution
</code></pre>

<h1>
<a name="todo" class="anchor" href="#todo"><span class="octicon octicon-link"></span></a>TODO</h1>

<pre><code>* tty support: sometimes needed if SSH is configured to only allow
  tty's to connect.
* Don't hang if only password auth is configured for SSH
</code></pre>

<h1>
<a name="development" class="anchor" href="#development"><span class="octicon octicon-link"></span></a>Development</h1>

<p>If you're interested in hacking, clone zyklop on github:</p>

<pre><code> https://github.com/romanofski/zyklop
</code></pre>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Zyklop maintained by <a href="https://github.com/romanofski">romanofski</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
